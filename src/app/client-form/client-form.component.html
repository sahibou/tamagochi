<section>
    <form [formGroup]="clientForm" (submit)="submitClientForm()"> 
        <!--     firstName:string,
    lastname:string,
    mail:string,
    
    address:string,
    postCode:string,
    city:string,

    parcelId:string,
    pluLink:string,-->
        <mat-form-field class="input-client">
            <mat-label>Votre prénom</mat-label>
            <input matInput type="text" formGroupName="firstName"/>
        </mat-form-field>
        <mat-form-field class="input-client">
            <mat-label>Votre nom</mat-label>
            <input matInput type="text" formControlName="lastName"/>
        </mat-form-field>
        <mat-form-field class="input-client">
            <mat-label>Votre adresse</mat-label>
            <input matInput type="text" formControlName="address" (change)="updateAdresseSaisie()"/>
        </mat-form-field>

        @if(this.etat){
            <label for="address2">{{this.etat}}</label>  
        }
        @if(!this.etat){
            <label for="address2">Adresses compatibles trouvés : {{this.matchingAdresses.length}}</label>  
        }
        
        <mat-form-field class="input-client">
            <mat-label>Adresses compatibles</mat-label>
            <mat-select (selectionChange)="newLocationSelected($event)" formGroupName="address2">
                @for(ad of matchingAdresses; track ad.fulltext){
                    <mat-option value="{{ad.fulltext}}">{{ad.fulltext}}</mat-option>
                }    
            </mat-select>
        </mat-form-field>
        
        

        <app-leaflet-map [selectedAddress]="selectedAddress"></app-leaflet-map>
        <button type="submit" class="primary">Soumettre</button>

    </form>
</section>
