<div class="flex-client-form">
    <!-- <div class="left"> -->
        <form [formGroup]="clientForm" (submit)="submitClientForm($event)"> 

            <mat-form-field class="input-client">
                <mat-label>Votre prénom</mat-label>
                <input matInput type="text" formControlName="firstName" placeholder="Exemple: Anakin"/>
            </mat-form-field>
            <mat-form-field class="input-client">
                <mat-label>Votre nom</mat-label>
                <input  matInput type="text" formControlName="lastName" placeholder="Exemple: Skywalker"/>
            </mat-form-field>
            <mat-form-field class="input-client">
                <mat-label>Votre adresse</mat-label>
                <input matInput type="text" formControlName="address" (change)="updateAdresseSaisie()" placeholder="Exemple: 3 Rue de l\'Abbé Rozier, 69001 Lyon"/>
            </mat-form-field>

            
            @if(this.chargementAdressesEnCours){
                <label for="address2">Recherche de correspondances en cours...</label> 
                <mat-progress-bar class="progress-addr" mode="buffer"></mat-progress-bar>
            }
            @if(this.chargementAdressesTente){
                <p>Adresses compatibles trouvés : {{this.matchingAdresses.length}}</p>  
            }
            <mat-form-field class="input-client">
                <mat-label>Adresses compatibles</mat-label>
                <mat-select (selectionChange)="newLocationSelected($event)" formGroupName="address2">
                    @for(ad of matchingAdresses; track ad.fulltext){
                        <mat-option value="{{ad.fulltext}}">{{ad.fulltext}}</mat-option>
                    }    
                </mat-select>
            </mat-form-field> 

            
            
            @if(this.selectedAddress){
                <!--<app-leaflet-map [selectedAddress]="selectedAddress" (parcelleEvent)="newParcelInfo($event)"></app-leaflet-map>-->
                <app-leaflet-map-19 [selectedAddress]="selectedAddress" (featureEmitter)="newParcelInfo($event)"></app-leaflet-map-19>
            }
            <a mat-flat-button routerLink="">Retour</a>
            
            <button mat-flat-button type="submit" class="submit_form">Soumettre</button>
            
        </form>
<!--
    </div>


    <div class="right">
        @if(this.clientForm.invalid){
            <h3>Erreurs :</h3>
        }
        @if(this.clientForm.invalid && firstName?.invalid){
            <div class="alert alert-danger">le prénom n'est pas saisi</div>
        }
        @if(this.clientForm.invalid && lastName?.invalid){
            <div class="alert alert-danger">le nom n'est pas saisi</div>
        }
        @if(this.clientForm.invalid && address?.invalid){
            <div class="alert alert-danger">l'adresse n'est pas saisie</div>
        }
        @if(!this.selectedAddress){
            <div class="alert alert-danger">Aucune adresse trouvée choisi</div>
        }

        
    </div>
-->
</div>